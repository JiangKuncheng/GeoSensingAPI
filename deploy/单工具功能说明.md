# 🛠️ 单工具功能说明与观测任务应用

## 📋 文档说明
本文档记录了项目中每个工具的功能作用以及可能应用于哪些观测规划任务中。

**工具总数**: 约75个工具
- **卫星工具库 (satelliteTool/)**: 10个工具
- **地理空间工具库 (GeoPandasTool/)**: 46个工具  
- **GIS工具库 (GisTool/)**: 3个工具
- **传感器优化工具库 (deploy/)**: 16个核心工具

---

## 🛰️ 卫星工具库 (satelliteTool/) - 10个工具

### 1. getPlaceBoundary.py
**功能作用**: 获取指定地理区域的边界信息
**可能用于的观测任务**:
- 海洋污染监测（获取海域边界）
- 森林火灾监测（获取林区边界）
- 城市环境监测（获取行政边界）
- 地质灾害监测（获取公路沿线区域）
- 农业监测（获取农田地块边界）

### 2. get_satellite_footprint.py
**功能作用**: 计算卫星在指定时间和区域的覆盖足迹
**可能用于的观测任务**:
- 任何需要卫星观测的任务
- 覆盖率评估和优化
- 观测时间窗口规划
- 多卫星协调观测

### 3. get_orbit_inclination.py
**功能作用**: 获取卫星轨道倾角信息
**可能用于的观测任务**:
- 极地区域监测
- 特定纬度带观测优化
- SAR干涉测量任务

### 4. get_orbit_radius.py
**功能作用**: 计算卫星轨道半径
**可能用于的观测任务**:
- 轨道参数分析
- 观测分辨率评估

### 5. get_orbit_velocity.py
**功能作用**: 计算卫星轨道速度
**可能用于的观测任务**:
- 动态目标追踪
- 时间窗口精确计算

### 6. get_TLE_data.py
**功能作用**: 获取卫星Two-Line Element轨道数据
**可能用于的观测任务**:
- 实时轨道预测
- 高精度轨道分析

### 7. satellite_ground_position.py
**功能作用**: 计算卫星在地面的投影位置
**可能用于的观测任务**:
- 星下点轨迹分析
- 地面站通信规划

### 8. has_intersection.py
**功能作用**: 判断卫星轨迹与目标区域是否有交集
**可能用于的观测任务**:
- 观测可行性判断
- 候选卫星筛选

### 9. get_observation_overlap.py
**功能作用**: 计算多个观测之间的重叠情况
**可能用于的观测任务**:
- 多卫星协同观测
- 观测冗余度分析

### 10. get_observation_lace.py
**功能作用**: 获取观测轨迹花边（覆盖模式）
**可能用于的观测任务**:
- 观测轨迹规划
- 覆盖模式分析

---

## 🗺️ 地理空间工具库 (GeoPandasTool/) - 46个工具

### 空间关系分析类 (12个工具)

#### 1. contains.py
**功能作用**: 判断一个几何体是否包含另一个几何体
**可能用于的观测任务**:
- 传感器是否在监测区域内
- 污染源是否在保护区内
- 目标是否在观测范围内

#### 2. contains_properly.py
**功能作用**: 判断一个几何体是否严格包含另一个几何体（边界不接触）
**可能用于的观测任务**:
- 严格包含关系验证
- 安全缓冲区检查

#### 3. within.py
**功能作用**: 判断一个几何体是否在另一个几何体内部
**可能用于的观测任务**:
- 监测点是否在目标区域内
- 敏感区域识别

#### 4. intersects.py
**功能作用**: 判断两个几何体是否相交
**可能用于的观测任务**:
- 覆盖区域重叠检测
- 监测范围冲突分析

#### 5. intersection.py
**功能作用**: 计算两个几何体的交集
**可能用于的观测任务**:
- 覆盖区域重叠计算
- 监测范围交集计算
- 影响区域评估

#### 6. disjoint.py
**功能作用**: 判断两个几何体是否不相交
**可能用于的观测任务**:
- 监测盲区识别
- 传感器布局验证

#### 7. touches.py
**功能作用**: 判断两个几何体是否相切
**可能用于的观测任务**:
- 邻接区域分析
- 边界监测布设

#### 8. crosses.py
**功能作用**: 判断两个几何体是否相交穿越
**可能用于的观测任务**:
- 线性设施监测（管道、公路穿越）
- 迁徙路径分析

#### 9. overlaps.py
**功能作用**: 判断两个几何体是否重叠
**可能用于的观测任务**:
- 监测范围优化
- 传感器协调布设

#### 10. covered_by.py
**功能作用**: 判断一个几何体是否被另一个几何体覆盖
**可能用于的观测任务**:
- 覆盖关系验证
- 保护区域检查

#### 11. covers.py
**功能作用**: 判断一个几何体是否覆盖另一个几何体
**可能用于的观测任务**:
- 覆盖能力评估
- 监测范围验证

#### 12. dwithin.py
**功能作用**: 判断两个几何体之间的距离是否在指定范围内
**可能用于的观测任务**:
- 邻近传感器识别
- 影响范围评估

### 空间运算类 (4个工具)

#### 13. union.py
**功能作用**: 计算多个几何体的并集
**可能用于的观测任务**:
- 合并监测区域
- 整合覆盖范围
- 影响范围统计

#### 14. difference.py
**功能作用**: 计算两个几何体的差集
**可能用于的观测任务**:
- 排除非目标区域
- 监测盲区计算
- 风险区域识别

#### 15. symmetric_difference.py
**功能作用**: 计算两个几何体的对称差集
**可能用于的观测任务**:
- 变化检测分析
- 差异区域识别

#### 16. clip_by_rect.py
**功能作用**: 使用矩形裁剪几何体
**可能用于的观测任务**:
- 区域数据提取
- 研究区域划分

### 几何计算类 (8个工具)

#### 17. area.py
**功能作用**: 计算几何体面积
**可能用于的观测任务**:
- 覆盖率计算
- 影响面积统计
- 监测效果评估

#### 18. length.py
**功能作用**: 计算几何体长度
**可能用于的观测任务**:
- 线性设施监测长度
- 边界线长度统计

#### 19. distance.py
**功能作用**: 计算两个几何体之间的距离
**可能用于的观测任务**:
- 传感器间距优化
- 最近设施查找
- 响应时间评估

#### 20. centroid.py
**功能作用**: 计算几何体的质心
**可能用于的观测任务**:
- 传感器最优位置选择
- 区域代表点确定
- 质心监测布设

#### 21. bounds.py
**功能作用**: 计算几何体的边界框坐标
**可能用于的观测任务**:
- 数据范围确定
- 快速空间索引

#### 22. total_bounds.py
**功能作用**: 计算所有几何体的总边界框
**可能用于的观测任务**:
- 数据集范围确定
- 整体边界计算

#### 23. minimum_bounding_radius.py
**功能作用**: 计算最小包围圆半径
**可能用于的观测任务**:
- 圆形覆盖优化
- 最小监测半径

#### 24. shortest_line.py
**功能作用**: 计算两个几何体之间的最短连线
**可能用于的观测任务**:
- 最短路径规划
- 连接线分析

### 几何形状类 (6个工具)

#### 25. convex_hull.py
**功能作用**: 计算几何体的凸包
**可能用于的观测任务**:
- 最小覆盖范围计算
- 外围监测布设
- 巡航路径规划

#### 26. concave_hull.py
**功能作用**: 计算几何体的凹包
**可能用于的观测任务**:
- 精确边界确定
- 复杂区域监测

#### 27. envelope.py
**功能作用**: 计算几何体的最小外接矩形
**可能用于的观测任务**:
- 快速范围估算
- 网格化监测布设

#### 28. boundary.py
**功能作用**: 获取几何体的边界
**可能用于的观测任务**:
- 边界监测布设
- 周界安防规划

#### 29. exterior.py
**功能作用**: 获取多边形的外环
**可能用于的观测任务**:
- 外围监测布设
- 边界线提取

#### 30. buffer.py
**功能作用**: 创建几何体的缓冲区
**可能用于的观测任务**:
- 污染扩散预测
- 安全缓冲带设置
- 影响范围评估
- 传感器覆盖范围

### 几何变换类 (4个工具)

#### 31. translate.py
**功能作用**: 平移几何体
**可能用于的观测任务**:
- 坐标系转换
- 位置调整优化

#### 32. rotate.py
**功能作用**: 旋转几何体
**可能用于的观测任务**:
- 观测角度调整
- 方向性传感器布设

#### 33. scale.py
**功能作用**: 缩放几何体
**可能用于的观测任务**:
- 比例尺调整
- 影响范围缩放

#### 34. offset_curve.py
**功能作用**: 创建几何体的偏移曲线
**可能用于的观测任务**:
- 缓冲区边界生成
- 平行线创建

### 几何验证类 (8个工具)

#### 35. is_valid.py
**功能作用**: 验证几何体是否有效
**可能用于的观测任务**:
- 数据质量检查
- 几何体验证

#### 36. is_valid_reason.py
**功能作用**: 获取几何体无效的原因
**可能用于的观测任务**:
- 数据质量诊断
- 错误定位

#### 37. is_empty.py
**功能作用**: 判断几何体是否为空
**可能用于的观测任务**:
- 空白区域识别
- 数据完整性检查

#### 38. is_simple.py
**功能作用**: 判断几何体是否简单（无自相交）
**可能用于的观测任务**:
- 几何体复杂度分析
- 路径规划验证

#### 39. is_ring.py
**功能作用**: 判断线串是否构成环
**可能用于的观测任务**:
- 闭合路径验证
- 环形监测布设

#### 40. is_closed.py
**功能作用**: 判断线串是否闭合
**可能用于的观测任务**:
- 封闭区域识别
- 完整路径验证

#### 41. is_ccw.py
**功能作用**: 判断多边形顶点是否按逆时针顺序排列
**可能用于的观测任务**:
- 几何方向验证
- 面积符号判断

#### 42. geom_equals.py
**功能作用**: 判断两个几何体是否几何相等
**可能用于的观测任务**:
- 几何体比较
- 重复数据检测

#### 43. geom_equals_exact.py
**功能作用**: 判断两个几何体是否精确相等
**可能用于的观测任务**:
- 精确几何比较
- 数据一致性检查

#### 44. geom_almost_equal.py
**功能作用**: 判断两个几何体是否近似相等
**可能用于的观测任务**:
- 容错几何比较
- 近似匹配检测

### 几何处理类 (4个工具)

#### 45. simplify.py
**功能作用**: 简化几何体，减少顶点数量
**可能用于的观测任务**:
- 数据压缩
- 地图泛化

#### 46. line_merge.py
**功能作用**: 合并连接的线段
**可能用于的观测任务**:
- 路径合并
- 线性要素整理

#### 47. reverse.py
**功能作用**: 反转几何体的顶点顺序
**可能用于的观测任务**:
- 几何方向调整
- 路径方向修正

---

## 🔧 GIS工具库 (GisTool/) - 3个工具

### 1. GisUnion.py
**功能作用**: GIS并集运算，合并多个地理要素
**可能用于的观测任务**:
- 监测区域合并
- 影响范围整合
- 多区域统一分析

### 2. GisInsection.py (GisIntersection)
**功能作用**: GIS交集运算，计算地理要素重叠部分
**可能用于的观测任务**:
- 覆盖区域重叠分析
- 多传感器交集计算
- 共同影响区域识别

### 3. GisDifference.py
**功能作用**: GIS差集运算，计算地理要素差异部分
**可能用于的观测任务**:
- 排除特定区域
- 监测盲区计算
- 变化区域识别

---

## 🚀 传感器优化工具库 (deploy/) - 16个核心工具

### 核心布设算法 (6个工具)

#### 1. ground_sensor_from_scratch.py
**功能作用**: 从零开始设计地面传感器网络布局
**可能用于的观测任务**:
- 新建监测网络
- 空白区域监测布设
- 地面传感器网络规划

#### 2. ground_sensor_position_optimize.py
**功能作用**: 优化现有地面传感器位置
**可能用于的观测任务**:
- 现有网络改进
- 传感器重新布局
- 监测效果提升

#### 3. ground_sensor_addition_optimize.py
**功能作用**: 在现有基础上增补地面传感器
**可能用于的观测任务**:
- 网络扩展
- 覆盖盲区补充
- 监测密度提升

#### 4. hybrid_sensor_from_scratch.py
**功能作用**: 从零设计卫星+地面混合传感器网络
**可能用于的观测任务**:
- 天地一体化监测
- 多尺度监测网络
- 综合观测系统

#### 5. hybrid_sensor_position_optimize.py
**功能作用**: 优化混合传感器网络位置配置
**可能用于的观测任务**:
- 混合网络优化
- 多类型传感器协调
- 综合监测效果提升

#### 6. hybrid_sensor_addition_optimize.py
**功能作用**: 在混合网络基础上智能增补传感器
**可能用于的观测任务**:
- 网络智能扩展
- 成本效益优化
- 覆盖能力提升

### GeoJSON支持工具 (4个工具)

#### 7. geojson_ground_sensor_from_scratch.py
**功能作用**: 支持GeoJSON格式的地面传感器从零布设
**可能用于的观测任务**:
- Web GIS集成
- 标准化数据交换
- 跨平台兼容

#### 8. geojson_ground_sensor_position_optimize.py
**功能作用**: 支持GeoJSON格式的地面传感器位置优化
**可能用于的观测任务**:
- 标准格式优化
- GIS平台集成
- 结果标准化输出

#### 9. geojson_algorithms_test.py
**功能作用**: 测试所有算法的GeoJSON兼容性
**可能用于的观测任务**:
- 算法验证
- 格式兼容性测试
- 质量保证

#### 10. geojson_demo_runner.py
**功能作用**: GeoJSON算法演示运行器
**可能用于的观测任务**:
- 功能演示
- 用户培训
- 算法展示

### 分析工具 (2个工具)

#### 11. sensor_relationship_analyzer.py
**功能作用**: 分析传感器间的时空关系和协同效应
**可能用于的观测任务**:
- 传感器协调分析
- 时间冲突识别
- 协同效应评估

#### 12. simple_sensor_analyzer.py
**功能作用**: 轻量级传感器关系分析
**可能用于的观测任务**:
- 快速关系分析
- 基础协调评估

### 高级优化工具 (2个工具)

#### 13. advanced_sensor_optimization.py
**功能作用**: 高级传感器优化算法（遗传算法、模拟退火）
**可能用于的观测任务**:
- 复杂优化问题
- 大规模网络优化
- 多目标优化

#### 14. mclp_observation_station.py
**功能作用**: 基于最大覆盖位置问题(MCLP)的观测站布设
**可能用于的观测任务**:
- 覆盖最大化问题
- 观测站选址
- 资源约束优化

### 演示和运行工具 (2个工具)

#### 15. run_demo.py
**功能作用**: 主演示程序入口
**可能用于的观测任务**:
- 系统演示
- 功能展示
- 用户指导

#### 16. demos/ (目录包含3个演示文件)
- **advanced_optimization_demo.py**: 高级优化算法演示
- **mclp_examples.py**: MCLP算法应用示例
- **optimization_demo.py**: 基础优化功能演示

---

## 📊 工具应用频率统计

### 🥇 高频应用工具（适用于80%以上观测任务）
1. **getPlaceBoundary.py** - 边界获取是大多数任务的起点
2. **buffer.py** - 影响范围分析在多数任务中必需
3. **area.py** - 面积计算是覆盖率评估的基础
4. **intersection.py** - 交集分析用于重叠和覆盖计算
5. **union.py** - 区域合并在多区域监测中常用
6. **get_satellite_footprint.py** - 卫星相关任务必需

### 🥈 中频应用工具（适用于50-80%观测任务）
1. **centroid.py** - 质心计算用于位置优化
2. **distance.py** - 距离计算用于优化布局
3. **contains.py** - 包含关系检查常用
4. **intersects.py** - 相交判断频繁使用
5. **ground_sensor_from_scratch.py** - 地面网络布设核心工具
6. **convex_hull.py** - 外围范围计算

### 🥉 专业应用工具（适用于特定场景）
1. **difference.py** - 主要用于排除特定区域
2. **rotate.py** - 主要用于方向性设备调整
3. **crosses.py** - 主要用于线性设施监测
4. **is_valid.py** - 主要用于数据质量检查
5. **hybrid_sensor_addition_optimize.py** - 复杂网络扩展
6. **advanced_sensor_optimization.py** - 复杂优化问题

---

## 🎯 应用建议

### 观测任务类型与工具选择策略

#### 1. **区域监测任务**:
   - **必用**: getPlaceBoundary → area → buffer
   - **常用**: union, intersection, ground_sensor_from_scratch
   - **优化**: hybrid_sensor_from_scratch

#### 2. **线性设施监测**:
   - **必用**: getPlaceBoundary → buffer → length
   - **常用**: crosses, distance, shortest_line
   - **优化**: ground_sensor_position_optimize

#### 3. **点源污染监测**:
   - **必用**: buffer → area → intersection
   - **常用**: distance, centroid, dwithin
   - **优化**: hybrid_sensor_addition_optimize

#### 4. **多区域协调监测**:
   - **必用**: union → intersection → area
   - **常用**: sensor_relationship_analyzer, covers
   - **优化**: hybrid_sensor_from_scratch

#### 5. **海洋监测任务**:
   - **必用**: getPlaceBoundary → convex_hull → get_satellite_footprint
   - **常用**: buffer, intersection, total_bounds
   - **优化**: hybrid_sensor_position_optimize

#### 6. **城市环境监测**:
   - **必用**: getPlaceBoundary → clip_by_rect → centroid
   - **常用**: within, contains, minimum_bounding_radius
   - **优化**: ground_sensor_addition_optimize

### 工具组合推荐模式

#### 模式A：空间分析密集型
```
getPlaceBoundary → buffer → union → intersection → area → 优化算法
```

#### 模式B：几何验证导向型  
```
is_valid → simplify → buffer → contains → 覆盖分析
```

#### 模式C：多尺度监测型
```
get_satellite_footprint → convex_hull → centroid → hybrid_optimization
```

#### 模式D：精确位置优化型
```
bounds → centroid → distance → position_optimize → relationship_analyzer
```

---

## 📈 工具发展建议

### 待补充的工具类型
1. **时间序列分析工具** - 动态监测支持
2. **网络拓扑分析工具** - 传感器网络结构分析  
3. **多目标优化工具** - 成本效益平衡
4. **实时数据接口工具** - 在线数据集成

### 工具集成建议
1. **标准化所有工具的GeoJSON支持**
2. **建立工具间的自动化工作流**
3. **开发可视化分析界面**
4. **增加并行计算支持**

---

这个完整的工具说明文档为您的观测规划Agent开发提供了详细的工具功能和应用场景指导，涵盖了约75个工具的完整信息。